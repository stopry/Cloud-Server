/**
 * Created by Administrator on 2017/3/30 0030.
 */
//接口配置
//var BASEURL = "http://36.7.145.19:9380";
var BASEURL = "";
var api = {
    goods:BASEURL+"/api/infos/goods/getGoodsTypelist",//商品接口
}

var _z_ = new _Z();
function showLoading(){
    $(".ajaxLayer").show();
}
function hideLoading(){
    $(".ajaxLayer").hide();
}
//ajax
var ajax = {
    //purl 是接口url
    //data是传入参数
    //callbacl是成功后的回调函数
    //async是同步异步开发，默认异步可不传，如需同步，则必须传false
    post: function (purl, data, callback, async) {
        var async = async == void(0) ? true : false;
        showLoading();
        $.ajax({
            type: 'POST',
            url: purl,
            async: async,
            timeout : 10000,
            data: JSON.stringify(data),
            contentType:"application/json;charset=UTF-8",
            dataType: 'json',
            success: function (result) {
                callback && callback(result);
            },
            error: function (info) {
                console.log(info);
                hideLoading();
                _z_.topAlert('网络错误!');
            },
            complete: function (xhr, status) {
                hideLoading();
            }

        });
    },
    get: function (purl, data,callback, async) {
        var async = async == void(0) ? true : false;
        $.showLoading();
        //data.token = util.getToken();
        //data.token_str = util.getTokenStr(data.token, API_TOKEN);
        $.ajax({
            type: 'GET',
            url: purl,
            data: data,
            dataType: 'json',
            timeout : 10000,
            async:async,
            success: function (result) {
                callback && callback(result);
            },
            error: function (info) {
                console.log(info);
                hideLoading();
                _z_.topAlert('网络错误!');
            },
            complete: function (xhr, status) {
                hideLoading();
            }
        });
    }
}
//页面跳转
function urlTo(url){
    location = url;
}
